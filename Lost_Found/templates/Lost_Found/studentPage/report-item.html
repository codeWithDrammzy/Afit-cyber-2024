{% extends 'Lost_Found/main.html' %}
{% block content %}

<div class="p-4 md:p-6">
    <!-- Welcome Card -->
    <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-5 mb-6 border border-blue-100">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between">
            <div>
                <h1 class="text-2xl font-bold text-gray-800 mb-1">Hello, {{ user.first_name|default:"Student" }}! üëã</h1>
                <p class="text-gray-600">Welcome to Campus Lost & Found System</p>
            </div>
            
            <!-- Student Badge -->
            <div class="mt-4 md:mt-0 bg-white rounded-xl px-4 py-2 border border-blue-200">
                <p class="text-xs text-gray-500">Student ID</p>
                <p class="font-mono font-semibold text-gray-800">{{ user.student.matric_no }}</p>
            </div>
        </div>
    </div>

    <!-- Quick Stats -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-6">
        <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-200">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-xs text-gray-500">Active Reports</p>
                    <p class="text-2xl font-bold text-blue-600 mt-1">3</p>
                </div>
                <div class="text-blue-500">
                    <i class="fas fa-bullhorn"></i>
                </div>
            </div>
        </div>
        
        <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-200">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-xs text-gray-500">Items Found</p>
                    <p class="text-2xl font-bold text-green-600 mt-1">2</p>
                </div>
                <div class="text-green-500">
                    <i class="fas fa-check-circle"></i>
                </div>
            </div>
        </div>
        
        <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-200">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-xs text-gray-500">Pending Claims</p>
                    <p class="text-2xl font-bold text-yellow-600 mt-1">1</p>
                </div>
                <div class="text-yellow-500">
                    <i class="fas fa-clock"></i>
                </div>
            </div>
        </div>
        
        <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-200">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-xs text-gray-500">Resolved Cases</p>
                    <p class="text-2xl font-bold text-purple-600 mt-1">4</p>
                </div>
                <div class="text-purple-500">
                    <i class="fas fa-trophy"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="mb-8">
        <h2 class="text-xl font-bold text-gray-800 mb-4">Quick Actions</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Report Lost Item -->
            <div class="bg-gradient-to-r from-red-50 to-orange-50 rounded-xl border border-red-100 p-5">
                <div class="flex items-start space-x-4">
                    <div class="bg-red-100 text-red-600 w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-exclamation-triangle text-xl"></i>
                    </div>
                    <div class="flex-1">
                        <h3 class="font-bold text-gray-800 text-lg mb-2">Report Lost Item</h3>
                        <p class="text-gray-600 text-sm mb-4">Missing something? Report it so others can help find it.</p>
                        <button class="w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors">
                            <i class="fas fa-plus-circle mr-2"></i>Report Now
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Report Found Item -->
            <div class="bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-100 p-5">
                <div class="flex items-start space-x-4">
                    <div class="bg-green-100 text-green-600 w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-hand-holding-heart text-xl"></i>
                    </div>
                    <div class="flex-1">
                        <h3 class="font-bold text-gray-800 text-lg mb-2">Report Found Item</h3>
                        <p class="text-gray-600 text-sm mb-4">Found someone's belongings? Help return them.</p>
                        <button class="w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors">
                            <i class="fas fa-plus-circle mr-2"></i>Report Now
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- My Active Reports -->
    <div class="mb-8">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-bold text-gray-800">My Active Reports</h2>
            <a href="#" class="text-blue-600 text-sm font-medium hover:text-blue-800">View All ‚Üí</a>
        </div>
        
        <div class="space-y-4">
            <!-- Report 1 -->
            <div class="bg-white rounded-xl border border-gray-200 p-4 hover:border-blue-300 transition-colors">
                <div class="flex justify-between items-start">
                    <div>
                        <div class="flex items-center space-x-2 mb-2">
                            <span class="px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-medium">LOST</span>
                            <span class="text-gray-500 text-sm">Today, 10:30 AM</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 mb-1">iPhone 13 Pro</h3>
                        <p class="text-gray-600 text-sm">üìç Library - 2nd Floor, Computer Section</p>
                        <div class="mt-2 flex items-center space-x-4 text-sm">
                            <span class="text-gray-500">üîç Still searching</span>
                            <span class="text-gray-500">üëÅÔ∏è 12 views</span>
                        </div>
                    </div>
                    <div class="flex flex-col items-end space-y-2">
                        <span class="px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-xs font-medium">Active</span>
                        <button class="text-blue-600 hover:text-blue-800 text-sm font-medium">View ‚Üí</button>
                    </div>
                </div>
            </div>
            
            <!-- Report 2 -->
            <div class="bg-white rounded-xl border border-gray-200 p-4 hover:border-blue-300 transition-colors">
                <div class="flex justify-between items-start">
                    <div>
                        <div class="flex items-center space-x-2 mb-2">
                            <span class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium">FOUND</span>
                            <span class="text-gray-500 text-sm">Yesterday, 3:15 PM</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 mb-1">Black Leather Wallet</h3>
                        <p class="text-gray-600 text-sm">üìç Student Union Building - Cafeteria</p>
                        <div class="mt-2 flex items-center space-x-4 text-sm">
                            <span class="text-green-600">‚úÖ 2 claims received</span>
                            <span class="text-gray-500">üëÅÔ∏è 8 views</span>
                        </div>
                    </div>
                    <div class="flex flex-col items-end space-y-2">
                        <span class="px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-xs font-medium">Pending</span>
                        <button class="text-blue-600 hover:text-blue-800 text-sm font-medium">View ‚Üí</button>
                    </div>
                </div>
            </div>
            
            <!-- Report 3 -->
            <div class="bg-white rounded-xl border border-gray-200 p-4 hover:border-blue-300 transition-colors">
                <div class="flex justify-between items-start">
                    <div>
                        <div class="flex items-center space-x-2 mb-2">
                            <span class="px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-medium">LOST</span>
                            <span class="text-gray-500 text-sm">Dec 10, 2024</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 mb-1">Engineering Calculator</h3>
                        <p class="text-gray-600 text-sm">üìç Engineering Building - Room 205</p>
                        <div class="mt-2 flex items-center space-x-4 text-sm">
                            <span class="text-gray-500">üîç Still searching</span>
                            <span class="text-gray-500">üëÅÔ∏è 5 views</span>
                        </div>
                    </div>
                    <div class="flex flex-col items-end space-y-2">
                        <span class="px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-xs font-medium">Active</span>
                        <button class="text-blue-600 hover:text-blue-800 text-sm font-medium">View ‚Üí</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Recently Found Items (From Others) -->
    <div class="mb-8">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-bold text-gray-800">Recently Found Items</h2>
            <a href="#" class="text-blue-600 text-sm font-medium hover:text-blue-800">Browse All ‚Üí</a>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Item 1 -->
            <div class="bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-shadow">
                <div class="flex items-start space-x-3">
                    <div class="w-16 h-16 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-key text-blue-600 text-xl"></i>
                    </div>
                    <div class="flex-1">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="font-semibold text-gray-800">Car Keys with Keychain</h3>
                            <span class="px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium">FOUND</span>
                        </div>
                        <p class="text-gray-600 text-sm mb-2">üìç Parking Lot A - Near Main Gate</p>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-500 text-xs">Found: Today, 9:45 AM</span>
                            <button class="text-blue-600 hover:text-blue-800 text-sm font-medium">View Details ‚Üí</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Item 2 -->
            <div class="bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-shadow">
                <div class="flex items-start space-x-3">
                    <div class="w-16 h-16 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-mobile-alt text-green-600 text-xl"></i>
                    </div>
                    <div class="flex-1">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="font-semibold text-gray-800">Samsung Galaxy S21</h3>
                            <span class="px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium">FOUND</span>
                        </div>
                        <p class="text-gray-600 text-sm mb-2">üìç Sports Complex - Gym Area</p>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-500 text-xs">Found: Yesterday, 6:30 PM</span>
                            <button class="text-blue-600 hover:text-blue-800 text-sm font-medium">View Details ‚Üí</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Item 3 -->
            <div class="bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-shadow">
                <div class="flex items-start space-x-3">
                    <div class="w-16 h-16 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-graduation-cap text-purple-600 text-xl"></i>
                    </div>
                    <div class="flex-1">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="font-semibold text-gray-800">Student ID Card</h3>
                            <span class="px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium">FOUND</span>
                        </div>
                        <p class="text-gray-600 text-sm mb-2">üìç Science Building - Corridor</p>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-500 text-xs">Found: Dec 11, 2024</span>
                            <button class="text-blue-600 hover:text-blue-800 text-sm font-medium">View Details ‚Üí</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Item 4 -->
            <div class="bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-shadow">
                <div class="flex items-start space-x-3">
                    <div class="w-16 h-16 bg-yellow-100 rounded-lg flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-book text-yellow-600 text-xl"></i>
                    </div>
                    <div class="flex-1">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="font-semibold text-gray-800">Physics Textbook</h3>
                            <span class="px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium">FOUND</span>
                        </div>
                        <p class="text-gray-600 text-sm mb-2">üìç Library - Reading Area</p>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-500 text-xs">Found: Dec 10, 2024</span>
                            <button class="text-blue-600 hover:text-blue-800 text-sm font-medium">View Details ‚Üí</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Recent Activity -->
    <div class="mb-8">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-bold text-gray-800">Recent Activity</h2>
        </div>
        
        <div class="bg-white rounded-xl border border-gray-200 p-5">
            <div class="space-y-4">
                <!-- Activity 1 -->
                <div class="flex items-start space-x-3">
                    <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-check text-green-600 text-sm"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-gray-800">
                            <span class="font-semibold">Your lost water bottle</span> was claimed by John Doe
                        </p>
                        <p class="text-gray-500 text-sm mt-1">Just now ‚Ä¢ Case resolved successfully</p>
                    </div>
                </div>
                
                <!-- Activity 2 -->
                <div class="flex items-start space-x-3">
                    <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-bell text-blue-600 text-sm"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-gray-800">
                            <span class="font-semibold">New message</span> regarding your found wallet claim
                        </p>
                        <p class="text-gray-500 text-sm mt-1">2 hours ago ‚Ä¢ From: Jane Smith</p>
                    </div>
                </div>
                
                <!-- Activity 3 -->
                <div class="flex items-start space-x-3">
                    <div class="w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-eye text-yellow-600 text-sm"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-gray-800">
                            <span class="font-semibold">Your lost iPhone report</span> received 5 new views
                        </p>
                        <p class="text-gray-500 text-sm mt-1">5 hours ago ‚Ä¢ People are looking!</p>
                    </div>
                </div>
                
                <!-- Activity 4 -->
                <div class="flex items-start space-x-3">
                    <div class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-star text-purple-600 text-sm"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-gray-800">
                            <span class="font-semibold">Thank you note</span> received for returning lost keys
                        </p>
                        <p class="text-gray-500 text-sm mt-1">Yesterday ‚Ä¢ "You're a lifesaver!"</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Campus Stats & Tips -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Campus Stats -->
        <div class="bg-gradient-to-br from-gray-50 to-white rounded-xl border border-gray-200 p-5">
            <h2 class="text-lg font-bold text-gray-800 mb-4">üìä Campus Stats</h2>
            <div class="space-y-3">
                <div class="flex justify-between items-center">
                    <span class="text-gray-600">Items found this week</span>
                    <span class="font-semibold text-gray-800">24</span>
                </div>
                <div class="flex justify-between items-center">
                    <span class="text-gray-600">Items returned to owners</span>
                    <span class="font-semibold text-gray-800">18</span>
                </div>
                <div class="flex justify-between items-center">
                    <span class="text-gray-600">Active lost items</span>
                    <span class="font-semibold text-gray-800">12</span>
                </div>
                <div class="flex justify-between items-center">
                    <span class="text-gray-600">Most common lost item</span>
                    <span class="font-semibold text-gray-800">Water bottles</span>
                </div>
            </div>
        </div>
        
        <!-- Quick Tips -->
        <div class="bg-gradient-to-br from-blue-50 to-white rounded-xl border border-blue-100 p-5">
            <h2 class="text-lg font-bold text-gray-800 mb-4">üí° Quick Tips</h2>
            <div class="space-y-3">
                <div class="flex items-start space-x-2">
                    <i class="fas fa-check-circle text-green-500 mt-1"></i>
                    <p class="text-gray-700 text-sm">Always add clear photos when reporting items</p>
                </div>
                <div class="flex items-start space-x-2">
                    <i class="fas fa-check-circle text-green-500 mt-1"></i>
                    <p class="text-gray-700 text-sm">Check "Recently Found Items" daily for your belongings</p>
                </div>
                <div class="flex items-start space-x-2">
                    <i class="fas fa-check-circle text-green-500 mt-1"></i>
                    <p class="text-gray-700 text-sm">Report items immediately to increase recovery chances</p>
                </div>
                <div class="flex items-start space-x-2">
                    <i class="fas fa-check-circle text-green-500 mt-1"></i>
                    <p class="text-gray-700 text-sm">Update your contact info for faster claim processing</p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Animate stat counters
    const counters = document.querySelectorAll('.text-2xl.font-bold');
    
    counters.forEach(counter => {
        const finalValue = parseInt(counter.textContent);
        let currentValue = 0;
        const increment = finalValue / 30;
        const duration = 1000; // ms
        const stepTime = duration / 30;
        
        const timer = setInterval(() => {
            currentValue += increment;
            if (currentValue >= finalValue) {
                counter.textContent = finalValue;
                clearInterval(timer);
            } else {
                counter.textContent = Math.floor(currentValue);
            }
        }, stepTime);
    });
    
    // Add click handlers for action buttons
    const reportButtons = document.querySelectorAll('button.bg-red-600, button.bg-green-600');
    reportButtons.forEach(button => {
        button.addEventListener('click', function() {
            const isLost = this.classList.contains('bg-red-600');
            const type = isLost ? 'lost' : 'found';
            alert(`Redirecting to report ${type} item page...`);
            // In real implementation: window.location.href = `/report-${type}/`;
        });
    });
    
    // Add view details handlers
    const viewButtons = document.querySelectorAll('button.text-blue-600');
    viewButtons.forEach(button => {
        button.addEventListener('click', function() {
            const itemName = this.closest('.bg-white').querySelector('h3')?.textContent || 'item';
            alert(`Viewing details for: ${itemName}`);
            // In real implementation: window.location.href = `/item-details/`;
        });
    });
});
</script>

{% endblock %}